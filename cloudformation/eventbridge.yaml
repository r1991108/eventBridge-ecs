AWSTemplateFormatVersion: "2010-09-09"

Description: Template generated by rain

Resources:
  eventbrigeEcsRule:
    Type: AWS::Events::Rule
    Properties:
      Description: "eventbridge rule for invoking ecs" # Optional
#      EventBusName: CHANGEME # Optional
#      EventPattern: '{"JSON": "CHANGEME"}' # Optional
      Name: apitest_event_rule # Optional
      RoleArn: "arn:aws:iam::189388601959:role/service-role/Amazon_EventBridge_Invoke_ECS_2212791" # Optional
      ScheduleExpression: "cron(42 15 * * ? *)" # Optional
      State: ENABLED # Optional
      Targets:
        - Arn: "arn:aws:ecs:ap-northeast-1:189388601959:cluster/testapi"
#          BatchParameters: # Optional
#            ArrayProperties: # Optional
#              Size: 0 # Optional
#            JobDefinition: CHANGEME
#            JobName: CHANGEME
#            RetryStrategy: # Optional
#              Attempts: 0 # Optional
#          DeadLetterConfig: # Optional
#            Arn: CHANGEME # Optional
          EcsParameters: # Optional
            LaunchType: FARGATE  # Optional
            NetworkConfiguration: # Optional
              AwsVpcConfiguration: # Optional
                AssignPublicIp: ENABLED # Optional
                SecurityGroups: # Optional
                  - "sg-0bece73851aac2346"
                Subnets:
                  - "subnet-0b12f3b92cd501025"
            PlatformVersion: "1.4.0" # Optional
            TaskCount: 1 # Optional
            TaskDefinitionArn: "arn:aws:ecs:ap-northeast-1:189388601959:task-definition/testapi_task"
          Id: "eventID"
          RoleArn: "arn:aws:iam::189388601959:role/service-role/Amazon_EventBridge_Invoke_ECS_2212791" # Optional
#              CHANGEME: CHANGEME
#            PathParameterValues: # Optional
#              - CHANGEME
#            QueryStringParameters: # Optional
#              CHANGEME: CHANGEME
#          Id: CHANGEME
#          Input: CHANGEME # Optional
#          InputPath: CHANGEME # Optional
#          InputTransformer: # Optional
#            InputPathsMap: # Optional
#              CHANGEME: CHANGEME
#            InputTemplate: CHANGEME
#          KinesisParameters: # Optional
#            PartitionKeyPath: CHANGEME
#          RedshiftDataParameters: # Optional
#            Database: CHANGEME
#            DbUser: CHANGEME # Optional
#            SecretManagerArn: CHANGEME # Optional
#            Sql: CHANGEME
#            StatementName: CHANGEME # Optional
#            WithEvent: false # Optional
#          RetryPolicy: # Optional
#            MaximumEventAgeInSeconds: 0 # Optional
#            MaximumRetryAttempts: 0 # Optional
#          RoleArn: CHANGEME # Optional
#          RunCommandParameters: # Optional
#            RunCommandTargets:
#              - Key: CHANGEME
#                Values:
#                  - CHANGEME
#          SqsParameters: # Optional
#            MessageGroupId: CHANGEME
#
#Outputs:
#  MyRuleArn:
#    Value: !GetAtt MyRule.Arn


